import{x as t,r as e,J as n,h as r,I as o,K as a,a as s,o as c,c as u,b as l,d as f,w as v,e as p,L as h,F as d,M as g,g as m,j as b,t as w,N as x}from"./1692196129.index.js";if(!y)var y={map:function(t,e){var n={};return e?t.map((function(t,r){return n.index=r,e.call(n,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,r,o){return n.index=o,t+e.call(n,r)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?y.map(t,e):t)}};var _=function(){var t=5,e=8-t;function n(e,n,r){return(e<<2*t)+(n<<t)+r}function r(t){var e=[],n=!1;function r(){e.sort(t),n=!0}return{push:function(t){e.push(t),n=!1},peek:function(t){return n||r(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return n||r(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return n||r(),e}}}function o(t,e,n,r,o,a,s){var i=this;i.r1=t,i.r2=e,i.g1=n,i.g2=r,i.b1=o,i.b2=a,i.histo=s}function a(){this.vboxes=new r((function(t,e){return y.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function s(t,e){if(e.count()){var r=e.r2-e.r1+1,o=e.g2-e.g1+1,a=y.max([r,o,e.b2-e.b1+1]);if(1==e.count())return[e.copy()];var s,i,c,u,l=0,f=[],v=[];if(a==r)for(s=e.r1;s<=e.r2;s++){for(u=0,i=e.g1;i<=e.g2;i++)for(c=e.b1;c<=e.b2;c++)u+=t[n(s,i,c)]||0;f[s]=l+=u}else if(a==o)for(s=e.g1;s<=e.g2;s++){for(u=0,i=e.r1;i<=e.r2;i++)for(c=e.b1;c<=e.b2;c++)u+=t[n(i,s,c)]||0;f[s]=l+=u}else for(s=e.b1;s<=e.b2;s++){for(u=0,i=e.r1;i<=e.r2;i++)for(c=e.g1;c<=e.g2;c++)u+=t[n(i,c,s)]||0;f[s]=l+=u}return f.forEach((function(t,e){v[e]=l-t})),function(t){var n,r,o,a,i,c=t+"1",u=t+"2",p=0;for(s=e[c];s<=e[u];s++)if(f[s]>l/2){for(o=e.copy(),a=e.copy(),i=(n=s-e[c])<=(r=e[u]-s)?Math.min(e[u]-1,~~(s+r/2)):Math.max(e[c],~~(s-1-n/2));!f[i];)i++;for(p=v[i];!p&&f[i-1];)p=v[--i];return o[u]=i,a[c]=o[u]+1,[o,a]}}(a==r?"r":a==o?"g":"b")}}return o.prototype={volume:function(t){var e=this;return e._volume&&!t||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(t){var e=this,r=e.histo;if(!e._count_set||t){var o,a,s,i=0;for(o=e.r1;o<=e.r2;o++)for(a=e.g1;a<=e.g2;a++)for(s=e.b1;s<=e.b2;s++)i+=r[n(o,a,s)]||0;e._count=i,e._count_set=!0}return e._count},copy:function(){var t=this;return new o(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var r=this,o=r.histo;if(!r._avg||e){var a,s,i,c,u=0,l=1<<8-t,f=0,v=0,p=0;for(s=r.r1;s<=r.r2;s++)for(i=r.g1;i<=r.g2;i++)for(c=r.b1;c<=r.b2;c++)u+=a=o[n(s,i,c)]||0,f+=a*(s+.5)*l,v+=a*(i+.5)*l,p+=a*(c+.5)*l;r._avg=u?[~~(f/u),~~(v/u),~~(p/u)]:[~~(l*(r.r1+r.r2+1)/2),~~(l*(r.g1+r.g2+1)/2),~~(l*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(t){var n=this,r=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,r>=n.r1&&r<=n.r2&&gval>=n.g1&&gval<=n.g2&&bval>=n.b1&&bval<=n.b2}},a.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,r,o=this.vboxes,a=0;a<o.size();a++)((n=Math.sqrt(Math.pow(t[0]-o.peek(a).color[0],2)+Math.pow(t[1]-o.peek(a).color[1],2)+Math.pow(t[2]-o.peek(a).color[2],2)))<e||void 0===e)&&(e=n,r=o.peek(a).color);return r},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return y.naturalOrder(y.sum(t.color),y.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,r=t[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(t[n].color=[255,255,255])}},{quantize:function(i,c){if(!i.length||c<2||c>256)return!1;var u,l,f,v=(u=i,f=new Array(1<<3*t),u.forEach((function(t){l=n(t[0]>>e,t[1]>>e,t[2]>>e),f[l]=(f[l]||0)+1})),f);v.forEach((function(){}));var p=function(t,n){var r,a,s,i=1e6,c=0,u=1e6,l=0,f=1e6,v=0;return t.forEach((function(t){(r=t[0]>>e)<i?i=r:r>c&&(c=r),(a=t[1]>>e)<u?u=a:a>l&&(l=a),(s=t[2]>>e)<f?f=s:s>v&&(v=s)})),new o(i,c,u,l,f,v,n)}(i,v),h=new r((function(t,e){return y.naturalOrder(t.count(),e.count())}));function d(t,e){for(var n,r=t.size(),o=0;o<1e3;){if(r>=e)return;if(o++>1e3)return;if((n=t.pop()).count()){var a=s(v,n),i=a[0],c=a[1];if(!i)return;t.push(i),c&&(t.push(c),r++)}else t.push(n),o++}}h.push(p),d(h,.75*c);for(var g=new r((function(t,e){return y.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));h.size();)g.push(h.pop());d(g,c);for(var m=new a;g.size();)m.push(g.pop());return m}}}().quantize,C=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};C.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var E=function(){};E.prototype.getColor=function(t,e){return void 0===e&&(e=10),this.getPalette(t,5,e)[0]},E.prototype.getPalette=function(t,e,n){var r=function(t){var e=t.colorCount,n=t.quality;if(void 0!==e&&Number.isInteger(e)){if(1===e)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");e=Math.max(e,2),e=Math.min(e,20)}else e=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:e,quality:n}}({colorCount:e,quality:n}),o=new C(t),a=function(t,e,n){for(var r,o,a,s,i,c=t,u=[],l=0;l<e;l+=n)o=c[0+(r=4*l)],a=c[r+1],s=c[r+2],(void 0===(i=c[r+3])||i>=125)&&(o>250&&a>250&&s>250||u.push([o,a,s]));return u}(o.getImageData().data,o.width*o.height,r.quality),s=_(a,r.colorCount);return s?s.palette():null},E.prototype.getColorFromUrl=function(t,e,n){var r=this,o=document.createElement("img");o.addEventListener("load",(function(){var a=r.getPalette(o,5,n);e(a[0],t)})),o.src=t},E.prototype.getImageData=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var n=new Array(i),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);var o=n.join(""),a=window.btoa(o);e("data:image/png;base64,"+a)}},n.send()},E.prototype.getColorAsync=function(t,e,n){var r=this;this.getImageData(t,(function(t){var o=document.createElement("img");o.addEventListener("load",(function(){var t=r.getPalette(o,5,n);e(t[0],this)})),o.src=t}))};const L={class:"container-fluid container-box"},M={class:"row"},k={class:"col-md-8 px-2"},z=[l("p",{class:"title mb-3 ms-3"},[l("span",{class:"font-white font-17"},"这是测试的内容")],-1)],q={class:"col-md-4 px-2"},I=g('<div class="card mb-3"><div class="card-body py-2"><div class="d-flex align-items-center justify-content-between"><span class="font-16 text-dark">热门主题</span><span>更多</span></div><ul class="i-ul mb-0"><li class="mt-2 d-flex align-items-center justify-content-between"><span class="font-13"><span class="point-circle bg-secondary me-2"></span> inis 默认主题 </span><span>使用人数 50W+</span></li><li class="mt-2 d-flex align-items-center justify-content-between"><span class="font-13"><span class="point-circle bg-secondary me-2"></span> 其它主题 </span><span>使用人数 100K+</span></li></ul></div></div>',1),j={class:"card mt-2"},A={class:"card-body p-0"},D=l("span",{class:"fw-bolder font-12"},"数据统计",-1),O={class:"row px-3 pb-3"},P={class:"card mb-0",style:{"box-shadow":"unset"}},H={class:"card-body"},N=l("span",{class:"fw-bolder font-12"},"其它信息",-1),S={__name:"index",setup(i){const{ctx:g,proxy:y}=m();t();const _=e({item:{tabs:"count",menu:{...n,menuList:[{label:"刷新",icon:'<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="14" height="14">\n                    <path fill="rgb(var(--assist-color))" d="M608 928c-229.76 0-416-186.24-416-416h-0.128c0-0.416 0.128-0.768 0.128-1.184a95.904 95.904 0 1 0-191.872-1.184c0 0.384-0.128 0.768-0.128 1.184l0.032 0.384c0 0.288 0.096 0.544 0.096 0.8H0c0 282.784 229.216 512 512 512 282.016 0 510.592-227.968 511.872-509.632C1022.592 743.072 836.928 928 608 928z"></path>\n                    <path fill="rgb(var(--assist-color))" d="M1023.872 512H1024c0-282.784-229.216-512-512-512C230.016 0 1.408 227.968 0.128 509.632 1.408 280.96 187.072 96 416 96c229.76 0 416 186.24 416 416h0.128c0 0.416-0.128 0.768-0.128 1.184a96 96 0 0 0 96 96 95.872 95.872 0 0 0 95.872-94.816c0-0.416 0.128-0.768 0.128-1.184l-0.032-0.384c0-0.288-0.096-0.544-0.096-0.8z"></path>\n                </svg>',fn:()=>C.refresh()}]}}});r((async()=>{document.querySelectorAll(".container-fluid").forEach((t=>{t.classList.remove("container-fluid"),t.classList.add("container-xl")})),_.item.menu.menuList.push({line:!0},...await o())}));const C={load:async(t,e)=>{const n=await(new E).getColor(t);y.$refs["carousel-footer"][e].style.background=`rgb(${n.join(",")})`}};return document.addEventListener("contextmenu",(t=>{var e;t.preventDefault(),null==(e=y.$refs.mouse)||e.show(t.x,t.y)})),a((()=>{document.querySelectorAll(".container-xl").forEach((t=>{t.classList.remove("container-xl"),t.classList.add("container-fluid")}))})),(t,e)=>{const n=s("el-image"),r=s("el-carousel-item"),o=s("el-carousel"),a=s("el-tab-pane"),i=s("el-tabs");return c(),u(d,null,[l("div",L,[l("div",M,[l("div",k,[f(o,{trigger:"click",height:"350px",class:"color-thief",arrow:"always"},{default:v((()=>[(c(),u(d,null,b(6,((t,e)=>f(r,{key:t},{default:v((()=>[f(n,{src:"https://inis.cn/api/file/rand?name=imgs.txt&id="+t,crossorigin:"anonymous",onLoad:t=>C.load(t.target,e),fit:"cover",class:"w-100",style:{height:"310px"}},null,8,["src","onLoad"]),l("div",{class:"carousel-footer mb-2",ref_for:!0,ref:"carousel-footer"},z,512)])),_:2},1024))),64))])),_:1})]),l("div",q,[I,f(n,{src:"/1.png",style:{height:"113px"},class:"w-100",fit:"cover"})])]),l("div",j,[l("div",A,[f(i,{modelValue:p(_).item.tabs,"onUpdate:modelValue":e[0]||(e[0]=t=>p(_).item.tabs=t)},{default:v((()=>[f(a,{name:"count"},{label:v((()=>[D])),default:v((()=>[l("div",O,[(c(),u(d,null,b(8,(t=>l("div",{key:t,class:"col-md-3 py-1"},[l("div",P,[l("div",H,w(t),1)])]))),64))])])),_:1}),f(a,{name:"other"},{label:v((()=>[N])),_:1})])),_:1},8,["modelValue"])])])]),f(p(x),h({ref:"mouse"},p(_).item.menu),null,16)],64)}}};export{S as default};
