/* empty css                    */import{x as e,r as t,s,h as n,I as o,n as a,p as l,u as i,m as r,a as c,o as d,c as u,b as m,d as p,w as f,e as g,y as h,F as v,j as y,k as x,f as b,t as w,g as k,_}from"./1692196129.index.js";import{U as z,_ as T}from"./1692196129.page.js";const E={class:"topnav"},q={class:"container-fluid user-select-none"},H={class:"navbar navbar-dark navbar-expand-lg topnav-menu py-1"},$={class:"collapse navbar-collapse justify-content-between"},j={class:"d-flex flex-column align-items-end user-select-text me-2"},C={key:0,class:"font-14"},S={class:"badge item left bg-dark px-2 py-1",style:{color:"#fff"}},L={class:"badge item right bg-warning px-2 py-1"},A={key:1},I={class:"d-lg-none d-black"},O={class:"d-flex justify-content-between"},N={key:0,"data-bs-toggle":"modal","data-bs-target":"#fill-item-modal",href:"javascript:",class:"mx-2"},Y={key:1,href:"/admin"},F={class:"flex-center"},M={href:"/"},P={key:0,src:"https://inis.cn/assets/images/logo.png",height:"40"},V={key:1,src:"https://inis.cn/assets/images/logo.png",height:"40"},D={class:"flex-center"},K={class:"flex-center mx-1"},U={class:"flex-center mx-1"},W={class:"flex-center mx-1"},B={class:"flex-center mx-1"},G={class:"flex-center"},X={__name:"nav",setup(_){const{ctx:T,proxy:X}=k(),J=e(),Q=t({theme:"white",login:{finish:!1},user:s.get("user-info"),drawer:!1,menu:[]});n((async()=>{await R.checkToken(),Q.menu=await o()})),a((async()=>{await R.getTheme()}));const R={async logout(){var e;const{code:t}=await l.del("/api/comm/logout");if(200!==t)return s.del("user-info"),void i.clear.cookie((null==(e=null==globalThis?void 0:globalThis.inis)?void 0:e.token_name)||"INIS_LOGIN_TOKEN");Q.login.finish=!1,s.del("user-info"),setTimeout((()=>{X.$router.push("/")}),500)},async checkToken(){if(s.has("user-info"))return Q.login.finish=!0;const{data:e,code:t,msg:n}=await l.post("/api/comm/check-token");if(412!==t){if(200!==t)return r.error(n);Q.user=e.user,Q.login.finish=!0,s.set("user-info",e.user,inis.cache)}},async getTheme(){let e=document.querySelector("body").getAttribute("inis-theme");i.is.empty(e)||(-1!==e.indexOf("white")?Q.theme="white":Q.theme="dark")},empty:e=>i.is.empty(e),router:(e={})=>J.push(e)};return(e,t)=>{var s;const n=c("el-image"),o=c("el-menu-item"),a=c("i-svg"),l=c("el-sub-menu"),r=c("el-menu"),k=c("el-avatar"),_=c("el-tooltip"),T=c("el-drawer");return d(),u(v,null,[m("div",E,[m("div",q,[m("nav",H,[m("div",$,[p(r,{class:"navbar-nav w-100",router:!0,"unique-opened":!0,"menu-trigger":"hover",mode:"horizontal","background-color":"transparent"},{default:f((()=>[p(o,{index:"/"},{default:f((()=>[p(n,{onClick:t[0]||(t[0]=e=>g(h)("/")),src:`/assets/imgs/logo-${g(Q).theme}.png`,style:{width:"100px"},class:"d-flex flex-center"},null,8,["src"])])),_:1}),(d(!0),u(v,null,y(g(Q).menu,((e,t)=>(d(),x(l,{key:t,index:t.toString(),"show-timeout":"50","hide-timeout":"50"},{title:f((()=>[b(w(e.label),1)])),default:f((()=>[(d(!0),u(v,null,y(e.children,((e,t)=>(d(),x(o,{key:t,index:t.toString(),onClick:t=>e.fn()},{default:f((()=>[p(a,{name:e.icon,size:e.size,color:"rgb(var(--assist-color))",class:"me-1"},null,8,["name","size"]),b(" "+w(e.label),1)])),_:2},1032,["index","onClick"])))),128))])),_:2},1032,["index"])))),128))])),_:1}),p(r,{"unique-opened":!0,mode:"horizontal",class:"navbar-nav d-flex align-items-center justify-content-end w-100","background-color":"transparent"},{default:f((()=>[p(o,{index:"1"},{default:f((()=>[p(z)])),_:1}),p(l,{"show-timeout":"50","hide-timeout":"50",index:"login-user",class:"icon-none"},{title:f((()=>{var e,t,s,n,o,a,l;return[m("div",j,[g(i).is.empty(null==(e=g(Q).user)?void 0:e.title)?(d(),u("strong",A,w(null==(n=g(Q).user)?void 0:n.nickname),1)):(d(),u("span",C,[m("strong",S,w(null==(t=g(Q).user)?void 0:t.nickname),1),m("span",L,w(null==(s=g(Q).user)?void 0:s.title),1)])),m("small",null,w(null==(o=g(Q).user)?void 0:o.email),1)]),p(k,{src:(null==(a=g(Q).user)?void 0:a.avatar)+((null==(l=g(Q).user)?void 0:l.avatar.includes("?"))?"&":"?")+"size=40x40",class:"mirror-scan",shape:"square",size:"medium"},null,8,["src"])]})),default:f((()=>[p(o,{onClick:t[1]||(t[1]=e=>g(h)({name:"admin-home"})),index:"index-home"},{default:f((()=>[p(a,{color:"rgb(var(--assist-color))",name:"console",size:"16px",class:"me-1"}),b(" 控制台 ")])),_:1}),p(o,{onClick:t[2]||(t[2]=e=>g(h)({name:"admin-account-home"})),index:"/admin/account/home"},{default:f((()=>[p(a,{color:"rgb(var(--assist-color))",name:"personal",size:"16px",class:"me-1"}),b(" 个人中心 ")])),_:1}),p(o,null,{default:f((()=>[p(a,{color:"rgb(var(--assist-color))",name:"logout",size:"16px",class:"me-1"}),m("span",{onClick:t[3]||(t[3]=e=>R.logout()),class:"w-100"},"退出登录")])),_:1})])),_:1})])),_:1})])]),m("nav",I,[m("div",O,[m("span",null,[m("span",{onClick:t[4]||(t[4]=e=>g(Q).drawer=!0),class:"mx-2"},[p(a,{color:"rgb(var(--assist-color))",name:"menu",size:"24px"})])]),m("span",null,[g(Q).login.finish?(d(),u("a",Y,[p(k,{src:null==(s=g(Q).user)?void 0:s.avatar,size:26,class:"mx-2"},null,8,["src"])])):(d(),u("a",N,[p(a,{color:"rgb(var(--assist-color))",name:"user-white",size:"26px"})]))])])])])]),p(T,{modelValue:g(Q).drawer,"onUpdate:modelValue":t[5]||(t[5]=e=>g(Q).drawer=e),direction:"ltr",size:"70%","show-close":!1,class:"card"},{header:f((()=>[m("span",F,[m("a",M,["dark"===g(Q).theme?(d(),u("img",P)):(d(),u("img",V))])])])),default:f((()=>[b(" 这是内容 ")])),footer:f((()=>[m("span",D,[m("span",K,[p(_,{class:"box-item",effect:"dark",content:"97783391",placement:"top"},{default:f((()=>[p(a,{name:"qq",size:"24px"})])),_:1})]),m("span",U,[p(_,{class:"box-item",effect:"dark",content:"v-inis",placement:"top"},{default:f((()=>[p(a,{name:"we-chat",size:"22px"})])),_:1})]),m("span",W,[p(_,{class:"box-item",effect:"dark",content:"97783391@qq.com",placement:"top"},{default:f((()=>[p(a,{name:"email",size:"26px"})])),_:1})]),m("span",B,[p(_,{class:"box-item",effect:"dark",content:"racns",placement:"top"},{default:f((()=>[p(a,{name:"github",size:"26px"})])),_:1})]),m("span",G,[p(_,{class:"box-item",effect:"dark",content:"萌卜兔",placement:"top"},{default:f((()=>[p(a,{name:"bilibili",size:"38px"})])),_:1})])])])),_:1},8,["modelValue"])],64)}}},J={ref:"pointer",id:"pointer"},Q={id:"background"},R={ref:"cover",class:"cover",style:{opacity:"1",transition:"all 1.5s ease 0s"}},Z={id:"go-to-top",ref:"go-to-top",class:"d-none"},ee={class:"flex-center p-0",type:"button"},te=_({__name:"beautify",setup(e){const{ctx:s,proxy:n}=k(),o=Math.round((new Date).getTime()/1e3),l=t({cover:`https://api.inis.cc/api/file/random?name=cure&unix=${o}`});return a((()=>{const e=n.$refs.pointer,t=e.offsetWidth/2,s=(s,n)=>{e.style.transform=`translate(${s-t+1}px, ${(()=>{let e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e})()+n-t+1}px)`};document.querySelector("body").addEventListener("mousemove",(e=>window.requestAnimationFrame((()=>{s(e.clientX,e.clientY)}))));const o=document.querySelector("#loading-box");o&&setTimeout((()=>o.classList.add("loaded")),500);const a=n.$refs.cover;n.$refs["bg-img"],a.style.setProperty("opacity",0),a.style.setProperty("transition","all 1.5s ease 0s"),Boolean(window.navigator.userAgent.match(/AppWebKit.*Mobile.*/))&&(e.style.display="none"),window.onscroll=()=>{let[e,t]=[null,!0],s=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;const o=n.$refs["go-to-top"];o.style.setProperty("display",s>300?"block":"none","important"),o.addEventListener("click",(()=>{t=!0,e=setTimeout((()=>{t&&i.to.scroll(0)}),150)})),o.addEventListener("dblclick",(()=>{clearTimeout(e),t=!1,i.to.scroll(a())}));const a=()=>{let e=0;return e=document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-e}}})),(e,t)=>{const s=c("el-image"),n=c("i-svg");return d(),u(v,null,[m("div",J,null,512),m("div",Q,[p(s,{src:"/assets/imgs/bg.webp",fit:"cover",style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"}},{error:f((()=>[p(s,{src:g(l).cover,fit:"cover",style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"}},null,8,["src"])])),_:1}),m("div",R,null,512)]),m("div",Z,[m("button",ee,[p(n,{name:"go-to-top",size:"30px"})])],512)],64)}}},[["__scopeId","data-v-052a89ff"]]),se={id:"footer",class:"text-white user-select-none"},ne={href:"https://inis.cc",target:"_blank",class:"text-white"},oe={__name:"footer",setup(e){const o=t({year:(new Date).getFullYear(),version:{theme:inis.version,system:"3.0.0"}});n((async()=>{await a.version()}));const a={version:async()=>{const e="system-version-local";if(s.has(e))return void(o.version.system=s.get(e));const{code:t,data:n}=await l.get("/dev/info/version");200===t&&(o.version.system=null==n?void 0:n.inis,s.set(e,null==n?void 0:n.inis,inis.cache))}};return(e,t)=>(d(),u("footer",se,[m("span",null,"Copyright © 2020 ~ "+w(g(o).year),1),m("span",null,[b(" & "),m("a",ne,"inis "+w(g(o).version.system),1)]),m("span",null," & theme "+w(g(o).version.theme),1)]))}},ae={__name:"base",setup:e=>(a((()=>{const e=document.querySelector("body");e.setAttribute("data-layout","topnav"),e.setAttribute("inis-theme","white"),e.classList.add("user-select-none");document.querySelector("#app").classList.add("admin")})),(e,t)=>{const s=c("router-view");return d(),u(v,null,[p(te),p(X),p(s),p(oe),p(T)],64)})};export{ae as default};
